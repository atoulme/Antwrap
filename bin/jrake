# antwrap
#
# Copyright Caleb Powell 2007
#
# Licensed under the LGPL, see the file COPYING in the distribution
#
#JAVA_HOME=
#JRUBY_HOME=/Users/username/tools/jruby-0.9.2 
#ANT_HOME=/Users/username/tools/apache-ant-1.7.0

if [ ! ${JRUBY_HOME} ]
then 
	echo "You must set the JRUBY_HOME env variable!"
	exit -1
fi

if [ ! ${ANT_HOME} ]
then 
	echo "You must set the ANT_HOME env variable in order to use Antwrap tasks!"
fi

JRAKE_CLASSPATH=
for jarfile in $ANT_HOME/lib/*.jar
do
    JRAKE_CLASSPATH=$JRAKE_CLASSPATH:$jarfile
done
JRAKE_CLASSPATH=${CLASSPATH}:$JRAKE_CLASSPATH

env -i CLASSPATH=$JRAKE_CLASSPATH JAVA_HOME=$JAVA_HOME ${JRUBY_HOME}/bin/jruby ${JRUBY_HOME}/bin/rake $*